{"version":3,"file":"rh-pagination.umd.js","sources":["rh-pagination.umd.js"],"sourcesContent":["/*\n * Copyright 2018 Red Hat, Inc.\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal\n * in the Software without restriction, including without limitation the rights\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in\n * all copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\n * SOFTWARE.\n */\n\nimport RHElement from \"../rhelement/rhelement.umd.js\";\n\nclass RhPagination extends RHElement {\n  get html() {\n    return `\n<style>\n:host {\n  display: block; }\n\n:focus:not(:focus-visible) {\n  outline: none; }\n\nnav *, nav *::before, nav *::after {\n  box-sizing: border-box; }\n\nnav ul {\n  margin: 0;\n  padding: 0;\n  list-style: none;\n  display: flex; }\n  nav ul li {\n    margin: 1px; }\n    nav ul li a {\n      display: block;\n      padding: 0 calc(var(--rh-theme--font-size, 16px) * 0.75);\n      line-height: calc(var(--rh-theme--font-size, 16px) * 2.5);\n      min-height: calc(var(--rh-theme--font-size, 16px) * 2.5);\n      min-width: calc(var(--rh-theme--font-size, 16px) * 2.5);\n      background: var(--rh-theme--color--ui-subtle, #f3f3f3);\n      color: var(--rh-theme--color--ui-subtle--text, #333);\n      text-align: center;\n      text-decoration: none; }\n      nav ul li a:hover, nav ul li a:focus, nav ul li a:active {\n        background: var(--rh-theme--color--ui-base, #0477a4);\n        color: var(--rh-theme--color--ui-base--text, #fff); }\n      nav ul li a[aria-current] {\n        background: var(--rh-theme--color--ui-complement, #464646);\n        color: var(--rh-theme--color--ui-complement--text, #fff); }\n\n:host([hidden]) {\n  display: none; }\n</style>\n<nav>\n  <ul id=\"list\"></ul>\n  <form id=\"jump\" hidden>\n    <input type=\"number\" name=\"\" id=\"currentPageInput\"> of <a href=\"#\" id=\"total-pages\"></a>\n  </form>\n</nav>`;\n  }\n\n  static get tag() {\n    return \"rh-pagination\";\n  }\n\n  get templateUrl() {\n    return \"rh-pagination.html\";\n  }\n\n  get styleUrl() {\n    return \"rh-pagination.scss\";\n  }\n\n  get currentPage() {\n    return this.getAttribute(\"current-page\");\n  }\n\n  set currentPage(val) {\n    console.log(this);\n    this.setAttribute(\"current-page\", val);\n  }\n\n  static get observedAttributes() {\n    return [\"total-pages\", \"show-jump\", \"show-pages\"];\n  }\n\n  constructor() {\n    super(RhPagination.tag);\n\n    this.jump = this.shadowRoot.querySelector(\"#jump\");\n    this.currentPageInput = this.shadowRoot.querySelector(\"#currentPageInput\");\n    this.list = this.shadowRoot.querySelector(\"#list\");\n\n    this._submitHandler = this._submitHandler.bind(this);\n  }\n\n  connectedCallback() {\n    super.connectedCallback();\n    this._copyNav();\n\n    this.currentPageInput.value = this.currentPage;\n    this.jump.addEventListener(\"submit\", this._submitHandler);\n  }\n\n  disconnectedCallback() {\n    this.jump.removeEventListener(\"submit\", this._submitHandler);\n  }\n\n  attributeChangedCallback(attr, oldValue, newValue) {\n    if (attr === \"total-pages\" && this.hasAttribute(\"show-jump\")) {\n      this.shadowRoot.querySelector(\"#total-pages\").textContent = newValue;\n    }\n\n    if (attr === \"show-jump\") {\n      this.jump.hidden = false;\n    }\n  }\n\n  _copyNav() {\n    const previous = this.querySelector('a[control=\"previous\"]');\n    const next = this.querySelector('a[control=\"next\"]');\n    const liPrevious = document.createElement(\"li\");\n    const liNext = document.createElement(\"li\");\n\n    liPrevious.setAttribute(\"id\", \"previous\");\n    liNext.setAttribute(\"id\", \"next\");\n    liPrevious.innerHTML = previous.outerHTML;\n    liNext.innerHTML = next.outerHTML;\n    this.list.appendChild(liPrevious);\n    this.list.appendChild(liNext);\n\n    if (this.hasAttribute(\"show-pages\")) {\n      this._buildPageNumbers();\n    }\n  }\n\n  _buildPageNumbers() {\n    const liNext = this.shadowRoot.querySelector('#next');\n    const totalPages = this.getAttribute(\"total-pages\");\n    const currentPage = this.currentPage;\n\n    for (let pageNum = 1; pageNum <= totalPages; pageNum++) {\n      const liPageNum = document.createElement(\"li\");\n      const aPageNum = document.createElement(\"a\");\n\n      aPageNum.setAttribute(\"href\", \"#\");\n      aPageNum.textContent = pageNum;\n      liPageNum.innerHTML = aPageNum.outerHTML;\n      this.list.insertBefore(liPageNum, liNext);\n    }\n\n    this.list.children[currentPage].querySelector(\"a\").setAttribute(\"aria-current\", \"page\");\n  }\n\n  _submitHandler(event) {\n    event.preventDefault();\n    this.currentPage = this.currentPageInput.value;\n  }\n}\n\nRHElement.create(RhPagination);\n\nexport default RhPagination;\n"],"names":["RhPagination","tag","jump","_this","shadowRoot","querySelector","currentPageInput","list","_submitHandler","bind","RHElement","this","getAttribute","val","log","setAttribute","_copyNav","value","currentPage","addEventListener","removeEventListener","attr","oldValue","newValue","hasAttribute","textContent","hidden","previous","next","liPrevious","document","createElement","liNext","innerHTML","outerHTML","appendChild","_buildPageNumbers","totalPages","pageNum","liPageNum","aPageNum","insertBefore","children","event","preventDefault","create"],"mappings":"ojBAwBMA,gWA0EIA,EAAaC,eAEdC,KAAOC,EAAKC,WAAWC,cAAc,WACrCC,iBAAmBH,EAAKC,WAAWC,cAAc,uBACjDE,KAAOJ,EAAKC,WAAWC,cAAc,WAErCG,eAAiBL,EAAKK,eAAeC,6UAhFnBC,05CAqDhB,4DAIA,gEAIAC,KAAKC,aAAa,8BAGXC,WACNC,IAAIH,WACPI,aAAa,eAAgBF,uCAjB3B,iEAqBA,CAAC,cAAe,YAAa,iaAe/BG,gBAEAV,iBAAiBW,MAAQN,KAAKO,iBAC9BhB,KAAKiB,iBAAiB,SAAUR,KAAKH,oEAIrCN,KAAKkB,oBAAoB,SAAUT,KAAKH,iEAGtBa,EAAMC,EAAUC,GAC1B,gBAATF,GAA0BV,KAAKa,aAAa,oBACzCpB,WAAWC,cAAc,gBAAgBoB,YAAcF,GAGjD,cAATF,SACGnB,KAAKwB,QAAS,0CAKfC,EAAWhB,KAAKN,cAAc,yBAC9BuB,EAAOjB,KAAKN,cAAc,qBAC1BwB,EAAaC,SAASC,cAAc,MACpCC,EAASF,SAASC,cAAc,QAE3BhB,aAAa,KAAM,cACvBA,aAAa,KAAM,UACfkB,UAAYN,EAASO,YACzBD,UAAYL,EAAKM,eACnB3B,KAAK4B,YAAYN,QACjBtB,KAAK4B,YAAYH,GAElBrB,KAAKa,aAAa,oBACfY,wEAKDJ,EAASrB,KAAKP,WAAWC,cAAc,SACvCgC,EAAa1B,KAAKC,aAAa,eAC/BM,EAAcP,KAAKO,YAEhBoB,EAAU,EAAGA,GAAWD,EAAYC,IAAW,KAChDC,EAAYT,SAASC,cAAc,MACnCS,EAAWV,SAASC,cAAc,OAE/BhB,aAAa,OAAQ,OACrBU,YAAca,IACbL,UAAYO,EAASN,eAC1B3B,KAAKkC,aAAaF,EAAWP,QAG/BzB,KAAKmC,SAASxB,GAAab,cAAc,KAAKU,aAAa,eAAgB,+CAGnE4B,KACPC,sBACD1B,YAAcP,KAAKL,iBAAiBW,sBAI7CP,EAAUmC,OAAO7C"}